# è§’è‰²åœºæ™¯ç®¡ç†ç³»ç»Ÿå®ç°æ–¹æ¡ˆ

## ğŸ“‹ **ç³»ç»Ÿæ¦‚è¿°**

å®ç°çœŸå®æ¸¸æˆæµç¨‹çš„è§’è‰²ç®¡ç†ç³»ç»Ÿï¼š
1. **åœºæ™¯åˆ†ç¦»**ï¼šå‹æ–¹è§’è‰²å’Œæ•Œæ–¹è§’è‰²ç‹¬ç«‹åœºæ™¯æ–‡ä»¶
2. **ä¸ªæ€§åŒ–ç¼©æ”¾**ï¼šæ¯ä¸ªè§’è‰²ç‹¬ç«‹çš„ç¼©æ”¾é…ç½®
3. **çœŸå®æµç¨‹**ï¼šMainåˆå§‹åŒ– â†’ GamePartyç®¡ç† â†’ Levelç”Ÿæˆè§’è‰²

---

## ğŸ—‚ï¸ **æ–‡ä»¶å¤¹ç»“æ„è§„åˆ’**

```
Scenes/
â”œâ”€â”€ Characters/
â”‚   â”œâ”€â”€ Party/           # å‹æ–¹è§’è‰²åœºæ™¯
â”‚   â”‚   â”œâ”€â”€ JueYuan.tscn     # è§‰è¿œ (3å€ç¼©æ”¾)
â”‚   â”‚   â”œâ”€â”€ LiuSheng.tscn    # æŸ³ç”Ÿ (2å€ç¼©æ”¾)
â”‚   â”‚   â””â”€â”€ Lancelot.tscn    # å…°æ–¯æ´›ç‰¹ (2å€ç¼©æ”¾)
â”‚   â””â”€â”€ Enemies/         # æ•Œæ–¹è§’è‰²åœºæ™¯
â”‚       â”œâ”€â”€ Bandit_101.tscn  # å±±è´¼å¤´ç›®
â”‚       â”œâ”€â”€ Wolf_102.tscn    # é‡ç‹¼
â”‚       â””â”€â”€ Skeleton_103.tscn # éª·é«…æˆ˜å£«
â””â”€â”€ player.tscn         # åŸå§‹æ¨¡æ¿åœºæ™¯
```

---

## âš™ï¸ **ç³»ç»Ÿé…ç½®**

### å…¨å±€è®¾ç½®
- **å…¨å±€ç¼©æ”¾**: 1.0å€ï¼ˆé»˜è®¤ï¼‰
- **ä¸ªæ€§åŒ–ç¼©æ”¾**: é€šè¿‡CharacterScaleConfigèŠ‚ç‚¹é…ç½®

### è§’è‰²ç¼©æ”¾é…ç½®
| è§’è‰²åç§° | ç¼©æ”¾å€æ•° | é…ç½®æ–¹å¼ |
|---------|---------|---------|
| è§‰è¿œ | 3.0å€ | CharacterScaleConfigèŠ‚ç‚¹ |
| æŸ³ç”Ÿ | 2.0å€ | CharacterScaleConfigèŠ‚ç‚¹ |
| å…°æ–¯æ´›ç‰¹ | 2.0å€ | CharacterScaleConfigèŠ‚ç‚¹ |
| å±±è´¼å¤´ç›® | 1.0å€ | ä½¿ç”¨å…¨å±€è®¾ç½® |
| é‡ç‹¼ | 1.0å€ | ä½¿ç”¨å…¨å±€è®¾ç½® |
| éª·é«…æˆ˜å£« | 1.0å€ | ä½¿ç”¨å…¨å±€è®¾ç½® |

---

## ğŸ”„ **æ¸¸æˆæµç¨‹è®¾è®¡**

### 1. Mainåœºæ™¯åˆå§‹åŒ– (Main.gd)
```gdscript
func _ready():
    # åˆå§‹åŒ–GamePartyï¼Œæ·»åŠ é˜Ÿä¼æˆå‘˜
    _initialize_party_members()
    
func _initialize_party_members():
    GameParty.add_member("1")  # è§‰è¿œ
    GameParty.add_member("2")  # æŸ³ç”Ÿ  
    GameParty.add_member("3")  # å…°æ–¯æ´›ç‰¹
```

### 2. GamePartyç®¡ç†è§’è‰²
- **è§’è‰²æ•°æ®**: ä»DataManager.csvåŠ è½½
- **é˜Ÿä¼ç®¡ç†**: GameParty.gdç®¡ç†é˜Ÿä¼æˆå‘˜åˆ—è¡¨
- **åœºæ™¯æ˜ å°„**: è§’è‰²ID â†’ å¯¹åº”çš„tscnæ–‡ä»¶è·¯å¾„

### 3. Levelåœºæ™¯ç”Ÿæˆè§’è‰²
- **è¯»å–é˜Ÿä¼**: ä»GamePartyè·å–æˆå‘˜åˆ—è¡¨
- **å®ä¾‹åŒ–åœºæ™¯**: æ ¹æ®è§’è‰²IDåŠ è½½å¯¹åº”çš„tscnæ–‡ä»¶
- **åº”ç”¨é…ç½®**: è‡ªåŠ¨è¯†åˆ«CharacterScaleConfigå¹¶åº”ç”¨

---

## ğŸ¯ **å®ç°æ­¥éª¤**

### Step 1: åˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„
```bash
mkdir -p Scenes/Characters/Party
mkdir -p Scenes/Characters/Enemies
```

### Step 2: åˆ›å»ºå‹æ–¹è§’è‰²åœºæ™¯
1. **å¤åˆ¶player.tscn** â†’ JueYuan.tscn, LiuSheng.tscn, Lancelot.tscn
2. **æ·»åŠ CharacterScaleConfigèŠ‚ç‚¹**åˆ°æ¯ä¸ªåœºæ™¯
3. **é…ç½®ä¸ªæ€§åŒ–ç¼©æ”¾å‚æ•°**

### Step 3: åˆ›å»ºæ•Œæ–¹è§’è‰²åœºæ™¯  
1. **å¤åˆ¶player.tscn** â†’ Bandit_101.tscn, Wolf_102.tscn, Skeleton_103.tscn
2. **ä¿æŒé»˜è®¤è®¾ç½®**ï¼ˆä½¿ç”¨å…¨å±€1.0å€ç¼©æ”¾ï¼‰

### Step 4: æ›´æ–°æ¸¸æˆè®¾ç½®
1. **ä¿®æ”¹GameSettings**: å°†å…¨å±€ç¼©æ”¾æ”¹ä¸º1.0å€
2. **éªŒè¯CharacterScaleConfig**: ç¡®ä¿ä¸ªæ€§åŒ–é…ç½®æ­£å¸¸å·¥ä½œ

### Step 5: å®ç°GamePartyåˆå§‹åŒ–
1. **ä¿®æ”¹Main.gd**: æ·»åŠ é˜Ÿä¼åˆå§‹åŒ–é€»è¾‘
2. **æ›´æ–°GameParty.gd**: ç¡®ä¿è§’è‰²åŠ å…¥é€»è¾‘æ­£ç¡®

### Step 6: æ›´æ–°è§’è‰²ç”Ÿæˆé€»è¾‘
1. **ä¿®æ”¹BattleCharacterManager**: æ”¯æŒä»GamePartyè¯»å–å¹¶åŠ è½½å¯¹åº”åœºæ™¯
2. **åˆ›å»ºåœºæ™¯æ˜ å°„è¡¨**: è§’è‰²ID â†’ tscnæ–‡ä»¶è·¯å¾„çš„æ˜ å°„

---

## ğŸ“ **åœºæ™¯æ˜ å°„é…ç½®**

### å‹æ–¹è§’è‰²æ˜ å°„
```gdscript
const PARTY_SCENE_MAP = {
    "1": "res://Scenes/Characters/Party/JueYuan.tscn",
    "2": "res://Scenes/Characters/Party/LiuSheng.tscn", 
    "3": "res://Scenes/Characters/Party/Lancelot.tscn"
}
```

### æ•Œæ–¹è§’è‰²æ˜ å°„
```gdscript
const ENEMY_SCENE_MAP = {
    "101": "res://Scenes/Characters/Enemies/Bandit_101.tscn",
    "102": "res://Scenes/Characters/Enemies/Wolf_102.tscn",
    "103": "res://Scenes/Characters/Enemies/Skeleton_103.tscn"
}
```

---

## âœ… **éªŒè¯æ¸…å•**

### åŠŸèƒ½éªŒè¯
- [ ] æ–‡ä»¶å¤¹ç»“æ„åˆ›å»ºå®Œæˆ
- [ ] å‹æ–¹è§’è‰²åœºæ™¯åˆ›å»ºå¹¶é…ç½®ç¼©æ”¾
- [ ] æ•Œæ–¹è§’è‰²åœºæ™¯åˆ›å»ºå®Œæˆ
- [ ] å…¨å±€ç¼©æ”¾è®¾ç½®ä¸º1.0å€
- [ ] Mainåœºæ™¯åˆå§‹åŒ–GameParty
- [ ] Levelåœºæ™¯ä»GamePartyè¯»å–è§’è‰²
- [ ] è§’è‰²ç¼©æ”¾æ•ˆæœæ­£ç¡®æ˜¾ç¤º

### ç¼©æ”¾æ•ˆæœéªŒè¯
- [ ] è§‰è¿œæ˜¾ç¤ºä¸º3å€å¤§å°
- [ ] æŸ³ç”Ÿæ˜¾ç¤ºä¸º2å€å¤§å°  
- [ ] å…°æ–¯æ´›ç‰¹æ˜¾ç¤ºä¸º2å€å¤§å°
- [ ] æ•Œæ–¹è§’è‰²æ˜¾ç¤ºä¸º1å€å¤§å°ï¼ˆé»˜è®¤ï¼‰

---

## ğŸ® **ç³»ç»Ÿä¼˜åŠ¿**

### 1. **æ¨¡å—åŒ–è®¾è®¡**
- æ¯ä¸ªè§’è‰²ç‹¬ç«‹åœºæ™¯æ–‡ä»¶
- ä¾¿äºå•ç‹¬è°ƒè¯•å’Œä¿®æ”¹
- æ”¯æŒè§’è‰²ç‰¹æ®Šé…ç½®

### 2. **çœŸå®æ¸¸æˆæµç¨‹**
- ç¬¦åˆå®é™…æ¸¸æˆå¼€å‘æ¨¡å¼
- GamePartyç»Ÿä¸€ç®¡ç†é˜Ÿä¼
- æ”¯æŒåŠ¨æ€æ·»åŠ /ç§»é™¤è§’è‰²

### 3. **å¯æ‰©å±•æ€§**
- æ–°å¢è§’è‰²åªéœ€åˆ›å»ºæ–°åœºæ™¯
- é…ç½®ç³»ç»Ÿæ”¯æŒä¸ªæ€§åŒ–è®¾ç½®
- ä¾¿äºåç»­åŠŸèƒ½æ‰©å±•

### 4. **ç»´æŠ¤æ€§**
- æ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡ç»“æ„
- ç»Ÿä¸€çš„é…ç½®ç®¡ç†æ–¹å¼
- å®Œæ•´çš„æ–‡æ¡£è¯´æ˜

---

## ğŸ”§ **æŠ€æœ¯ç»†èŠ‚**

### CharacterScaleConfigé…ç½®
```gdscript
# è§‰è¿œé…ç½®
scale_factor = 3.0
auto_apply_on_ready = true
override_global_scale = true

# æŸ³ç”Ÿ/å…°æ–¯æ´›ç‰¹é…ç½®  
scale_factor = 2.0
auto_apply_on_ready = true
override_global_scale = true
```

### BattleCharacterManageræ›´æ–°
- æ”¯æŒåœºæ™¯è·¯å¾„æ˜ å°„
- è‡ªåŠ¨æ£€æµ‹CharacterScaleConfig
- ä¼˜å…ˆä½¿ç”¨ä¸ªæ€§åŒ–é…ç½®

è¿™å¥—ç³»ç»Ÿå°†ä¸ºä½ çš„æ¸¸æˆæä¾›å®Œæ•´ã€å¯æ‰©å±•çš„è§’è‰²ç®¡ç†è§£å†³æ–¹æ¡ˆï¼ 
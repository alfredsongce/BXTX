# 🧪 可视化技能系统测试清单

## 📋 基础功能测试

### ✅ 技能选择界面测试
- [ ] 技能选择面板正确显示
- [ ] 可用技能显示为蓝色，不可用技能显示为灰色
- [ ] MP不足时技能显示"MP不足"标识
- [ ] 数字键1-9可以快速选择技能
- [ ] 取消按钮正常工作
- [ ] ESC键可以关闭选择界面

### ✅ 可视化释放界面测试
- [ ] 选择技能后正确切换到可视化释放模式
- [ ] 蓝色施法范围圆圈正确显示
- [ ] 合法目标显示绿色高亮
- [ ] 非法目标显示红色高亮
- [ ] 白色鼠标指示器跟随鼠标移动
- [ ] 顶部HUD正确显示技能信息和操作提示

## 🎯 技能类型测试

### 1. 自身技能 (SELF) - 技能ID: 1004, 1007
- [ ] **自我治疗 (1004)**：单体自身技能
  - [ ] 点击任意位置可以释放
  - [ ] 只影响施法者自己
  - [ ] 无需显示施法范围
  
- [ ] **冰霜新星 (1007)**：范围自身技能
  - [ ] 点击任意位置可以释放
  - [ ] 以施法者为中心显示橙色效果范围
  - [ ] 影响范围内的所有敌人

### 2. 普通技能 (NORMAL) - 技能ID: 1001, 1002, 1003, 1006, 1011
- [ ] **普通攻击 (1001)**：单体敌方技能
  - [ ] 显示蓝色施法范围
  - [ ] 敌人显示绿色高亮，友方显示红色高亮
  - [ ] 点击敌人可以释放
  
- [ ] **治疗术 (1003)**：单体友方技能
  - [ ] 友方显示绿色高亮，敌人显示红色高亮
  - [ ] 点击友方可以释放
  
- [ ] **群体治疗 (1006)**：范围友方技能
  - [ ] 鼠标悬停在友方目标上显示橙色效果范围预览
  - [ ] 点击友方目标后影响其周围的友方单位
  
- [ ] **队友激励 (1011)**：ALLYONLY类型技能
  - [ ] 友方显示绿色高亮，施法者和敌人显示红色高亮
  - [ ] 只能对友方（不包括施法者）使用

### 3. 弹道技能 (PROJECTILE) - 技能ID: 1005, 1008
- [ ] **火球术 (1005)**：单点弹道技能
  - [ ] 显示施法范围
  - [ ] 点击目标发射弹道
  
- [ ] **闪电链 (1008)**：穿刺弹道技能
  - [ ] 鼠标悬停时可能显示穿刺路径预览
  - [ ] 点击目标发射穿透弹道

### 4. 自由技能 (FREE) - 技能ID: 1009, 1010
- [ ] **陨石术 (1009)**：自由范围ALL技能
  - [ ] 鼠标在施法范围内移动时显示橙色效果范围预览
  - [ ] 可以点击任意位置释放
  - [ ] 影响点击位置周围的所有单位
  
- [ ] **群体祝福 (1010)**：自由范围友方技能
  - [ ] 类似陨石术，但只影响友方单位

## 🎮 交互测试

### 鼠标操作
- [ ] 左键点击合法目标正确释放技能
- [ ] 左键点击非法位置不会误释放
- [ ] 右键点击可以取消技能释放
- [ ] 鼠标移动流畅更新所有视觉效果

### 键盘操作
- [ ] ESC键在技能选择阶段关闭界面
- [ ] ESC键在技能释放阶段返回技能选择
- [ ] 数字键快速选择技能

### 状态转换
- [ ] 技能选择 → 可视化释放 → 执行技能 → 完成
- [ ] 技能选择 → 可视化释放 → 取消 → 返回技能选择
- [ ] 技能选择 → 取消 → 关闭界面

## 🎨 视觉效果测试

### 圆圈绘制
- [ ] 施法范围圆圈边框清晰
- [ ] 效果范围预览填充显示
- [ ] 目标高亮圆圈正确显示
- [ ] 鼠标指示器跟随准确

### 颜色方案
- [ ] 蓝色：施法范围
- [ ] 橙色：效果范围预览
- [ ] 绿色：合法目标高亮
- [ ] 红色：非法目标高亮
- [ ] 白色：鼠标指示器

### HUD显示
- [ ] 顶部HUD正确显示技能信息
- [ ] 操作提示根据技能类型变化
- [ ] 取消提示始终显示

## 🚀 性能测试

### 响应性
- [ ] 鼠标移动响应流畅（无延迟）
- [ ] 视觉效果更新及时
- [ ] 状态切换无卡顿

### 资源管理
- [ ] 切换技能时正确清理之前的视觉效果
- [ ] 取消操作时正确释放资源
- [ ] 无内存泄漏（长时间使用后性能稳定）

## 🔧 错误处理测试

### 异常情况
- [ ] MP不足时技能正确禁用
- [ ] 角色死亡时技能系统正确处理
- [ ] 无合法目标时给出适当提示
- [ ] 超出范围点击时无误操作

### 边界条件
- [ ] 射程边缘的目标选择准确
- [ ] 效果范围边缘的目标包含正确
- [ ] 多个重叠目标时选择最近的

## 🎯 集成测试

### 与现有系统协作
- [ ] 技能释放后正确更新角色状态
- [ ] MP消耗正确计算
- [ ] 技能动画正常播放
- [ ] 伤害/治疗效果正确应用
- [ ] 回合系统正确推进

### 信号传递
- [ ] 技能释放完成信号正确发送
- [ ] 技能取消信号正确处理
- [ ] 与BattleManager的通信正常

## 📝 测试记录

### 测试环境
- Godot版本: ______
- 操作系统: ______
- 测试日期: ______

### 发现的问题
1. ________________
2. ________________
3. ________________

### 优化建议
1. ________________
2. ________________
3. ________________

## ✅ 测试完成标准

系统被认为可以发布需要满足：
- [ ] 所有基础功能测试通过
- [ ] 至少3种不同类型技能测试通过
- [ ] 所有交互操作正常工作
- [ ] 无明显的性能问题
- [ ] 无致命错误或异常崩溃 